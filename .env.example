# =============================================================================
# CodegenCICD Dashboard Environment Configuration
# Complete unified configuration supporting all features from all PRs
# =============================================================================

# =============================================================================
# CONFIGURATION TIER (Controls feature complexity)
# =============================================================================
# Options: basic, intermediate, advanced
CONFIG_TIER=basic

# =============================================================================
# CORE APPLICATION SETTINGS
# =============================================================================
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
POSTGRES_PASSWORD=codegencd_secure_password_change_in_production
DATABASE_URL=postgresql+asyncpg://postgres:codegencd_secure_password_change_in_production@localhost:5432/codegencd
REDIS_URL=redis://localhost:6379/0

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
SECRET_KEY=your-super-secret-key-change-in-production-min-32-chars
ENCRYPTION_KEY=your-encryption-key-base64-encoded-32-bytes-change-in-production
ENCRYPTION_SALT=your-encryption-salt-change-in-production-unique-value

# JWT Configuration (Intermediate+ tier)
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=30

# =============================================================================
# CODEGEN API CONFIGURATION
# =============================================================================
CODEGEN_ORG_ID=323
CODEGEN_API_TOKEN=sk-your-codegen-api-token-here

# =============================================================================
# GITHUB INTEGRATION
# =============================================================================
GITHUB_TOKEN=github_pat_your-github-token-here
GITHUB_WEBHOOK_SECRET=your-webhook-secret-for-github-integration

# =============================================================================
# AI SERVICES
# =============================================================================
GEMINI_API_KEY=AIzaSy-your-gemini-api-key-here

# =============================================================================
# CLOUDFLARE CONFIGURATION (for webhooks)
# =============================================================================
CLOUDFLARE_API_KEY=your-cloudflare-api-key-here
CLOUDFLARE_ACCOUNT_ID=your-cloudflare-account-id-here
CLOUDFLARE_WORKER_NAME=webhook-gateway
CLOUDFLARE_WORKER_URL=https://webhook-gateway.pixeliumperfecto.workers.dev

# =============================================================================
# VALIDATION TOOLS CONFIGURATION
# =============================================================================

# Grainchain Configuration (local sandboxing)
GRAINCHAIN_ENABLED=true
GRAINCHAIN_DOCKER_SOCKET=/var/run/docker.sock
GRAINCHAIN_WORKSPACE_DIR=/tmp/grainchain_workspaces
GRAINCHAIN_MAX_CONTAINERS=10
GRAINCHAIN_CONTAINER_TIMEOUT=3600

# Web-eval-agent Configuration (UI testing)
WEB_EVAL_ENABLED=true
WEB_EVAL_BROWSER=chromium
WEB_EVAL_HEADLESS=true
WEB_EVAL_TIMEOUT=30000
WEB_EVAL_VIEWPORT_WIDTH=1920
WEB_EVAL_VIEWPORT_HEIGHT=1080

# Graph-sitter Configuration (code quality)
GRAPH_SITTER_ENABLED=true
GRAPH_SITTER_LANGUAGES=typescript,javascript,python,rust,go
GRAPH_SITTER_MAX_FILE_SIZE=1048576
GRAPH_SITTER_ANALYSIS_TIMEOUT=60

# =============================================================================
# INTERMEDIATE TIER CONFIGURATION
# =============================================================================
# These settings are active when CONFIG_TIER=intermediate or advanced

# WebSocket Configuration
WEBSOCKET_MAX_CONNECTIONS=100
WEBSOCKET_HEARTBEAT_INTERVAL=30

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# Background Tasks (Celery)
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# Validation Pipeline
MAX_CONCURRENT_VALIDATIONS=5
VALIDATION_TIMEOUT=1800
MAX_VALIDATION_RETRIES=3
RETRY_DELAY_SECONDS=30

# =============================================================================
# ADVANCED TIER CONFIGURATION (Enterprise Features)
# =============================================================================
# These settings are active when CONFIG_TIER=advanced

# Monitoring and Metrics
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9090
GRAFANA_PASSWORD=admin

# SSL Configuration (Production)
SSL_CERT_PATH=/path/to/ssl/cert.pem
SSL_KEY_PATH=/path/to/ssl/private.key

# Email Notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# Advanced Security
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================
DOCKER_SOCKET_PATH=/var/run/docker.sock
VALIDATION_WORKSPACE_DIR=/tmp/validation_workspaces

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
REACT_APP_API_URL=http://localhost:8000
REACT_APP_WS_URL=ws://localhost:8000

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# SQL Debug (shows all SQL queries in logs)
SQL_DEBUG=false

# Enable hot reload for development
HOT_RELOAD=true

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================
# Uncomment and configure for production deployment

# ENVIRONMENT=production
# DEBUG=false
# CONFIG_TIER=advanced
# LOG_LEVEL=WARNING

# Production Database
# DATABASE_URL=postgresql+asyncpg://username:password@prod-db:5432/codegencd

# Production Redis
# REDIS_URL=redis://prod-redis:6379/0

# Production CORS
# CORS_ORIGINS=https://your-domain.com,https://www.your-domain.com

# Production SSL
# SSL_CERT_PATH=/etc/ssl/certs/your-cert.pem
# SSL_KEY_PATH=/etc/ssl/private/your-key.pem

# =============================================================================
# FEATURE FLAGS (Based on Configuration Tier)
# =============================================================================
# These are automatically set based on CONFIG_TIER but can be overridden

# Basic tier features (always enabled)
# - projects
# - agent_runs  
# - basic_validation
# - github_integration
# - codegen_integration

# Intermediate tier features (CONFIG_TIER=intermediate or advanced)
# - websocket_updates
# - rate_limiting
# - background_tasks
# - advanced_validation

# Advanced tier features (CONFIG_TIER=advanced only)
# - monitoring
# - ssl_support
# - email_notifications
# - enterprise_security

# =============================================================================
# USAGE EXAMPLES
# =============================================================================

# Basic Setup (Development):
# CONFIG_TIER=basic
# ENVIRONMENT=development
# DEBUG=true

# Intermediate Setup (Staging):
# CONFIG_TIER=intermediate
# ENVIRONMENT=staging
# DEBUG=false
# PROMETHEUS_ENABLED=true

# Advanced Setup (Production):
# CONFIG_TIER=advanced
# ENVIRONMENT=production
# DEBUG=false
# PROMETHEUS_ENABLED=true
# SSL_CERT_PATH=/etc/ssl/certs/cert.pem
# SSL_KEY_PATH=/etc/ssl/private/key.pem

